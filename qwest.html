<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ó–∞–º–æ–≤–ª–µ–Ω–Ω—è –∫—É–ø–æ–Ω—É</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        /* === –ë–∞–∑–æ–≤—ñ –°—Ç–∏–ª—ñ —Ç–∞ –î–∏–∑–∞–π–Ω === */
        :root {
            --primary-color: #007bff;
            --secondary-color: #28a745;
            --bg-color: #f8f9fa;
            --card-bg: #ffffff;
            --text-color: #343a40;
            --shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 0;
            background-color: var(--bg-color);
            display: flex;
            justify-content: center;
            align-items: flex-start;
            min-height: 100vh;
        }

        /* –û–±–º–µ–∂–µ–Ω–Ω—è –¥–ª—è –º–æ–±—ñ–ª—å–Ω–æ–≥–æ –≤–∏–≥–ª—è–¥—É */
        #app-container {
            width: 100%;
            max-width: 480px;
            background-color: var(--card-bg);
            box-shadow: var(--shadow);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        /* === –®–∞–ø–∫–∞ (–ó–∞–≥–æ–ª–æ–≤–æ–∫ —Ç–∞ –Ü–Ω–¥–∏–∫–∞—Ç–æ—Ä) === */
        #header {
            background-color: var(--primary-color);
            color: white;
            padding: 15px 20px;
            text-align: center;
            position: sticky;
            top: 0;
            z-index: 10;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        #progress-indicator {
            font-size: 0.9em;
            margin-top: 5px;
            font-weight: 300;
        }

        /* === –û—Å–Ω–æ–≤–Ω–∏–π –ö–æ–Ω—Ç–µ–Ω—Ç (–ö—Ä–æ–∫–∏) === */
        #quiz-container {
            padding: 20px;
            flex-grow: 1;
            position: relative;
            overflow: hidden;
        }

        .step {
            min-height: 100%;
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            padding: 20px;
            box-sizing: border-box;
            /* –ó–º—ñ–Ω–µ–Ω–∞ –∞–Ω—ñ–º–∞—Ü—ñ—è –¥–ª—è –ø–ª–∞–≤–Ω—ñ—à–æ–≥–æ –ø–µ—Ä–µ—Ö–æ–¥—É */
            transition: transform 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94), opacity 0.6s ease;
            background-color: var(--card-bg);
            display: flex;
            flex-direction: column;
        }

        /* –ê–Ω—ñ–º–∞—Ü—ñ—è –ø–µ—Ä–µ—Ö–æ–¥—É –≤–ø–µ—Ä–µ–¥ */
        .step.hidden-right {
            transform: translateX(100%);
            opacity: 0;
            pointer-events: none;
        }

        /* –ê–Ω—ñ–º–∞—Ü—ñ—è –ø–µ—Ä–µ—Ö–æ–¥—É –Ω–∞–∑–∞–¥ */
        .step.hidden-left {
            transform: translateX(-100%);
            opacity: 0;
            pointer-events: none;
        }

        .step.current {
            transform: translateX(0);
            opacity: 1;
            position: relative;
        }

        .step-title {
            font-size: 1.5em;
            color: var(--text-color);
            margin-bottom: 25px;
            font-weight: 600;
            text-align: center;
        }
        
        /* === –ü–∞–Ω–µ–ª—å –°—É–º–∏ (–¢—ñ–ª—å–∫–∏ —Ü—ñ–Ω–∞) === */
        #price-display, #price-display-2, #price-display-3, #price-display-4 {
            background-color: #fff3cd; /* –°–≤—ñ—Ç–ª–æ-–∂–æ–≤—Ç–∏–π —Ñ–æ–Ω */
            color: #856404; /* –¢–µ–º–Ω–æ-–∂–æ–≤—Ç–∏–π —Ç–µ–∫—Å—Ç */
            padding: 10px 15px;
            margin: 10px 0 20px 0;
            border-radius: 8px;
            font-weight: bold;
            text-align: center;
            border: 1px solid #ffeeba;
        }


        /* === –°—Ç–∏–ª—ñ –ö–Ω–æ–ø–æ–∫ –í–∏–±–æ—Ä—É —Ç–∞ –ß–µ–∫–±–æ–∫—Å—ñ–≤ === */
        .option-group { display: flex; flex-wrap: wrap; gap: 15px; justify-content: center; }
        .option-button { background-color: #f1f1f1; color: var(--text-color); border: 2px solid #e0e0e0; padding: 15px 20px; border-radius: 12px; cursor: pointer; font-size: 1em; flex-grow: 1; min-width: 100px; max-width: 100%; transition: background-color 0.2s ease, border-color 0.2s ease, transform 0.1s ease; text-align: center; position: relative; }
        .option-button:hover { border-color: var(--primary-color); }
        .option-button.selected { background-color: var(--primary-color); color: white; border-color: var(--primary-color); box-shadow: 0 4px 8px rgba(0, 123, 255, 0.3); }
        .price-modifier { display: block; font-size: 0.7em; color: #6c757d; margin-top: 5px; }
        .option-button.selected .price-modifier { color: #ffffff; }
        
        .checkbox-option { display: flex; align-items: center; justify-content: space-between; background-color: var(--card-bg); border: 1px solid #ddd; padding: 15px; margin-bottom: 10px; border-radius: 8px; cursor: pointer; transition: border-color 0.2s ease, box-shadow 0.2s ease; }
        .checkbox-option:hover { border-color: var(--primary-color); }
        .checkbox-option.selected { border-color: var(--secondary-color); box-shadow: 0 0 5px rgba(40, 167, 69, 0.5); background-color: #e2ffe8; }
        .checkbox-option input[type="checkbox"] { 
            margin-right: 15px; 
            appearance: none; 
            width: 20px; 
            height: 20px; 
            border: 2px solid #ccc; 
            border-radius: 4px; 
            outline: none; 
            cursor: pointer; 
            transition: all 0.2s; 
            flex-shrink: 0; /* –©–æ–± –Ω–µ —Å—Ç–∏—Å–∫–∞–≤—Å—è */
        }
        .checkbox-option input[type="checkbox"]:checked { background-color: var(--secondary-color); border-color: var(--secondary-color); position: relative; }
        .checkbox-option input[type="checkbox"]:checked:after { content: "\f00c"; font-family: "Font Awesome 5 Free"; font-weight: 900; font-size: 14px; color: white; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); }
        .checkbox-label { flex-grow: 1; display: flex; flex-direction: column; align-items: flex-start; }
        .checkbox-label strong { font-weight: 500; }
        
        #time-input-container { margin-top: 20px; padding: 15px; border: 1px solid #ddd; border-radius: 8px; display: none; background-color: #fcfcfc; }
        #time-input-container label { display: block; margin-bottom: 10px; font-weight: 500; color: var(--text-color); }
        #custom-time-input { width: 100%; padding: 10px; border: 1px solid #ccc; border-radius: 4px; box-sizing: border-box; font-size: 1em; }
        
        .next-button, .action-button { 
            width: 100%; 
            padding: 15px; 
            background-color: var(--secondary-color); 
            color: white; 
            border: none; 
            border-radius: 12px; 
            font-size: 1.1em; 
            font-weight: bold; 
            cursor: pointer; 
            margin-top: 15px; 
            transition: background-color 0.2s ease, transform 0.1s ease; 
        }

        .next-button:hover:not(:disabled), .action-button:hover:not(:disabled) {
            background-color: #218838;
        }
        
        .next-button:disabled, .action-button:disabled {
            background-color: #ccc;
            cursor: default; 
            opacity: 0.6;
        }
        
        .step-actions {
            display: flex;
            gap: 10px;
            margin-top: auto; 
            padding-top: 15px;
        }

        .step-actions button {
            margin-top: 0; 
            flex-grow: 1;
        }

        .back-button {
            background-color: #6c757d;
        }

        .back-button:hover {
            background-color: #5a6268;
        }

        /* === –§—ñ–Ω–∞–ª—å–Ω–∏–π –†–µ–∑—É–ª—å—Ç–∞—Ç === */
        #final-result { text-align: center; padding: 40px 20px; }
        #final-result h2 { color: var(--primary-color); margin-bottom: 30px; }
        #final-price-display {
            font-size: 2.5em;
            font-weight: bold;
            color: var(--secondary-color);
            margin: 20px 0 40px 0;
            padding: 15px;
            background: #e9f7ef;
            border-radius: 15px;
        }
        
        /* –î–æ–¥–∞—Ç–∫–æ–≤–∏–π —Å—Ç–∏–ª—å –¥–ª—è –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è —Å—Ö–≤–∞–ª–µ–Ω–Ω—è –Ω–∞ —Å–∞–π—Ç—ñ */
        #approval-message {
            margin-top: 30px;
            font-size: 1.1em;
            color: var(--text-color);
        }

        .final-actions {
            display: flex;
            flex-direction: column; 
            gap: 15px;
            margin-top: 20px;
        }
        
        #confirm-button {
            background-color: var(--primary-color);
        }

        #reset-button {
            background-color: #dc3545;
        }
    </style>
</head>
<body>

    <div id="app-container">

        <div id="header">
            <h1>–ó–∞–º–æ–≤–ª–µ–Ω–Ω—è –∫—É–ø–æ–Ω—É</h1>
            <div id="progress-indicator"></div>
        </div>

        <div id="quiz-container">

            <div id="step-1" class="step current" data-step="1">
                <div class="step-title">–ö—Ä–æ–∫ 1: –ö—ñ–ª—å–∫—ñ—Å—Ç—å –∫—É–ø–æ–Ω—ñ–≤</div>
                <div id="price-display">–¢–µ–ø–µ—Ä –¥–æ –æ–ø–ª–∞—Ç–∏: 15 –≥—Ä–Ω</div>
                
                <div class="option-group" data-type="single" data-name="quantity">
                    <button class="option-button" data-value="1" data-quantity="1">1</button>
                    <button class="option-button" data-value="2" data-quantity="2">2</button>
                    <button class="option-button" data-value="3" data-quantity="3">3</button>
                    <button class="option-button" data-value="4" data-quantity="4">4</button>
                    <button class="option-button" data-value="5" data-quantity="5">5</button>
                </div>
                
                <div class="step-actions">
                    <button class="next-button" disabled onclick="nextStep(2)">–î–∞–ª—ñ</button>
                </div>
            </div>

            <div id="step-2" class="step hidden-right" data-step="2">
                <div class="step-title">–ö—Ä–æ–∫ 2: –î–µ–Ω—å —Ç–∞ —á–∞—Å</div>
                <div id="price-display-2">–¢–µ–ø–µ—Ä –¥–æ –æ–ø–ª–∞—Ç–∏: 15 –≥—Ä–Ω</div>
                
                <div class="step-title" style="margin-bottom: 15px; margin-top: 0; font-size: 1.2em;">–ù–∞ —è–∫–∏–π –¥–µ–Ω—å?</div>
                <div class="option-group" data-type="single" data-name="day">
                    <button class="option-button" data-value="–°—å–æ–≥–æ–¥–Ω—ñ" data-price="0">–°—å–æ–≥–æ–¥–Ω—ñ</button>
                    <button class="option-button" data-value="–ó–∞–≤—Ç—Ä–∞" data-price="0">–ó–∞–≤—Ç—Ä–∞</button>
                    <button class="option-button" data-value="–ü—ñ—Å–ª—è –∑–∞–≤—Ç—Ä–∞" data-price="0">–ü—ñ—Å–ª—è –∑–∞–≤—Ç—Ä–∞</button>
                </div>

                <div class="step-title" style="margin-top: 30px; margin-bottom: 15px; font-size: 1.2em;">–ù–∞ –∫–æ—Ç—Ä—É –≥–æ–¥–∏–Ω—É?</div>
                <div class="option-group" data-type="single" data-name="time">
                    <button id="time-any" class="option-button" data-value="–ë—É–¥—å-—è–∫–∏–π —á–∞—Å" data-price="0">
                        –£ –±—É–¥—å-—è–∫–∏–π —á–∞—Å
                        <span class="price-modifier">+ 0 –≥—Ä–Ω</span>
                    </button>
                    <button id="time-custom" class="option-button" data-value="–ú—ñ–π —á–∞—Å" data-price="3">
                        –£ –º—ñ–π —á–∞—Å
                        <span class="price-modifier">+ 3 –≥—Ä–Ω</span>
                    </button>
                </div>
                
                <div id="time-input-container">
                    <label for="custom-time-input">–í–≤–µ–¥—ñ—Ç—å –≤–∞—à —á–∞—Å (–ø—Ä–∏–∫–ª–∞–¥: 12:00)</label>
                    <input type="text" id="custom-time-input" placeholder="HH:MM" oninput="checkStep2Completion()">
                    <p id="time-validation-error" style="color: red; font-size: 0.9em; margin-top: 5px; display: none;">
                        –ù–µ–∫–æ—Ä–µ–∫—Ç–Ω–∏–π —Ñ–æ—Ä–º–∞—Ç —á–∞—Å—É (–≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –ß–ß:–ú–ú).
                    </p>
                </div>
                
                <div class="step-actions">
                    <button class="action-button back-button" onclick="goBackStep(1)">–ù–∞–∑–∞–¥</button>
                    <button class="next-button" disabled onclick="nextStep(3)">–î–∞–ª—ñ</button>
                </div>
            </div>

            <div id="step-3" class="step hidden-right" data-step="3">
                <div class="step-title">–ö—Ä–æ–∫ 3: –î–æ–¥–∞—Ç–∫–æ–≤—ñ –æ–ø—Ü—ñ—ó (–û–±–µ—Ä—ñ—Ç—å –∫—ñ–ª—å–∫–∞)</div>
                <div id="price-display-3">–¢–µ–ø–µ—Ä –¥–æ –æ–ø–ª–∞—Ç–∏: 15 –≥—Ä–Ω</div>

                <div class="option-group" data-type="multiple" data-name="options">
                    <div class="checkbox-option" data-value="–ù–æ—Ä–º–∞–ª—å–Ω–µ —Å—Ç–∞–≤–ª–µ–Ω–Ω—è" data-price="5">
                        <input type="checkbox" id="opt-1" onchange="handleCheckboxChange(this, 'options')">
                        <label for="opt-1" class="checkbox-label">
                            <strong>–ù–æ—Ä–º–∞–ª—å–Ω–µ —Å—Ç–∞–≤–ª–µ–Ω–Ω—è</strong>
                            <span class="price-modifier">+ 5 –≥—Ä–Ω</span>
                        </label>
                    </div>
                    <div class="checkbox-option" data-value="–°—Ç–∞—Ä–∞–Ω–Ω—è –±–∏—Ç–∏/–ø–∞—Å—É–≤–∞—Ç–∏" data-price="3">
                        <input type="checkbox" id="opt-2" onchange="handleCheckboxChange(this, 'options')">
                        <label for="opt-2" class="checkbox-label">
                            <strong>–°—Ç–∞—Ä–∞–Ω–Ω—è –±–∏—Ç–∏/–ø–∞—Å—É–≤–∞—Ç–∏</strong>
                            <span class="price-modifier">+ 3 –≥—Ä–Ω</span>
                        </label>
                    </div>
                    <div class="checkbox-option" data-value="–ë—É—Ç—Å–∏" data-price="2">
                        <input type="checkbox" id="opt-3" onchange="handleCheckboxChange(this, 'options')">
                        <label for="opt-3" class="checkbox-label">
                            <strong>–ë—É—Ç—Å–∏</strong>
                            <span class="price-modifier">+ 2 –≥—Ä–Ω</span>
                        </label>
                    </div>
                    <div class="checkbox-option" data-value="–ù—ñ—á–æ–≥–æ –∑ –ø–µ—Ä–µ–ª—ñ—á–µ–Ω–æ–≥–æ" data-price="0">
                        <input type="checkbox" id="opt-4" onchange="handleCheckboxChange(this, 'options', true)">
                        <label for="opt-4" class="checkbox-label">
                            <strong>–ù—ñ—á–æ–≥–æ –∑ –ø–µ—Ä–µ–ª—ñ—á–µ–Ω–æ–≥–æ</strong>
                            <span class="price-modifier">+ 0 –≥—Ä–Ω</span>
                        </label>
                    </div>
                </div>

                <div class="step-actions">
                    <button class="action-button back-button" onclick="goBackStep(2)">–ù–∞–∑–∞–¥</button>
                    <button class="next-button" disabled onclick="nextStep(4)">–î–∞–ª—ñ</button>
                </div>
            </div>

            <div id="step-4" class="step hidden-right" data-step="4">
                <div class="step-title">–ö—Ä–æ–∫ 4: –†–µ–∂–∏–º–∏ –≥—Ä–∏ (–û–±–µ—Ä—ñ—Ç—å –∫—ñ–ª—å–∫–∞)</div>
                <div id="price-display-4">–¢–µ–ø–µ—Ä –¥–æ –æ–ø–ª–∞—Ç–∏: 15 –≥—Ä–Ω</div>
                
                <div class="option-group" data-type="multiple" data-name="modes">
                    <div class="checkbox-option" data-value="–§—É—Ç–±–æ–ª" data-price="5">
                        <input type="checkbox" id="mode-1" onchange="handleCheckboxChange(this, 'modes')">
                        <label for="mode-1" class="checkbox-label">
                            <strong>–§—É—Ç–±–æ–ª</strong>
                            <span class="price-modifier">+ 5 –≥—Ä–Ω</span>
                        </label>
                    </div>
                    <div class="checkbox-option" data-value="–ö–∞—Å–∞–Ω–∫–∞ (1 —Ç–æ—Ä–∫–∞–Ω–Ω—è)" data-price="2">
                        <input type="checkbox" id="mode-2" onchange="handleCheckboxChange(this, 'modes')">
                        <label for="mode-2" class="checkbox-label">
                            <strong>–ö–∞—Å–∞–Ω–∫–∞ (1 —Ç–æ—Ä–∫–∞–Ω–Ω—è)</strong>
                            <span class="price-modifier">+ 2 –≥—Ä–Ω</span>
                        </label>
                    </div>
                    <div class="checkbox-option" data-value="–í—ñ–¥ –≤–æ—Ä—ñ—Ç, –¥–æ –≤–æ—Ä—ñ—Ç" data-price="3">
                        <input type="checkbox" id="mode-3" onchange="handleCheckboxChange(this, 'modes')">
                        <label for="mode-3" class="checkbox-label">
                            <strong>–í—ñ–¥ –≤–æ—Ä—ñ—Ç, –¥–æ –≤–æ—Ä—ñ—Ç</strong>
                            <span class="price-modifier">+ 3 –≥—Ä–Ω</span>
                        </label>
                    </div>
                    <div class="checkbox-option" data-value="–ù—ñ—á–æ–≥–æ –∑ –ø–µ—Ä–µ–ª—ñ—á–µ–Ω–æ–≥–æ" data-price="0">
                        <input type="checkbox" id="mode-4" onchange="handleCheckboxChange(this, 'modes', true)">
                        <label for="mode-4" class="checkbox-label">
                            <strong>–ù—ñ—á–æ–≥–æ –∑ –ø–µ—Ä–µ–ª—ñ—á–µ–Ω–æ–≥–æ</strong>
                            <span class="price-modifier">+ 0 –≥—Ä–Ω</span>
                        </label>
                    </div>
                </div>
                
                <div class="step-actions">
                    <button class="action-button back-button" onclick="goBackStep(3)">–ù–∞–∑–∞–¥</button>
                    <button class="next-button" disabled onclick="nextStep(5)">–ó–∞–≤–µ—Ä—à–∏—Ç–∏</button>
                </div>
            </div>

            <div id="step-5" class="step hidden-right" data-step="5">
                <div id="final-result">
                    <h2>üéâ –í–∞—à–µ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è —Å—Ñ–æ—Ä–º–æ–≤–∞–Ω–æ!</h2>
                    <p>–ó–∞–ª–∏—à–∏–≤—Å—è –æ—Å—Ç–∞–Ω–Ω—ñ–π –∫—Ä–æ–∫ ‚Äì –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è.</p>
                    <i class="fas fa-check-circle" style="font-size: 5em; color: var(--secondary-color); margin-top: 15px;"></i>
                    
                    <div id="final-price-display">–ó–∞–≥–∞–ª—å–Ω–∞ —Å—É–º–∞: 0 –≥—Ä–Ω</div>
                    
                    <p id="approval-message">–ù–∞—Ç–∏—Å–Ω—ñ—Ç—å "–ü—ñ–¥—Ç–≤–µ—Ä–¥–∏—Ç–∏ —Å—É–º—É", —â–æ–± –∑–∞–≤–µ—Ä—à–∏—Ç–∏ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è. –Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –ø—Ä–æ —Å—Ö–≤–∞–ª–µ–Ω–Ω—è –≤–∏ –æ—Ç—Ä–∏–º–∞—î—Ç–µ –≤ Telegram.</p>

                    <div class="final-actions">
                        <button id="confirm-button" class="action-button" onclick="sendToTelegramBot()">
                            –ü—ñ–¥—Ç–≤–µ—Ä–¥–∏—Ç–∏ —Å—É–º—É
                        </button>
                        <button id="reset-button" class="action-button back-button" onclick="goBackStep(4)">
                            –ü–µ—Ä–µ–≤–∏–±—Ä–∞—Ç–∏ (–ù–∞–∑–∞–¥)
                        </button>
                    </div>
                </div>
            </div>
            
            <div id="step-6" class="step hidden-right" data-step="6">
    <div id="site-approval-result">
        <h2 style="color: var(--secondary-color);">‚úÖ –î—è–∫—É—î–º–æ –∑–∞ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è!</h2>
        <i class="fas fa-thumbs-up" style="font-size: 5em; color: var(--secondary-color); margin-top: 15px;"></i>
        <p id="final-client-message" style="margin-top: 20px; font-size: 1.1em; line-height: 1.5;">
            –Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ –æ–ø–ª–∞—Ç—É —Ç–∞ –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –∫—É–ø–æ–Ω—ñ–≤ –±—É–¥–µ –Ω–∞–¥—ñ—Å–ª–∞–Ω–∞ –≤–∞–º —É Telegram.
        </p>
        <p style="margin-top: 40px; color: var(--text-color);">
            –í–∞—à–µ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è: <span id="summary-price-display" style="font-weight: bold;">0 –≥—Ä–Ω</span>.
        </p>
        
        <div class="final-actions">
            <button class="action-button primary-new-order" onclick="window.location.reload()">
                –ó—Ä–æ–±–∏—Ç–∏ –Ω–æ–≤–µ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è
            </button>
            
            <a href="index.html" class="action-button back-to-menu-link">
                –ü–æ–≤–µ—Ä–Ω—É—Ç–∏—Å—è —É –º–µ–Ω—é
            </a>
        </div>
</div>

    <script>
        // === –ö–û–ù–§–Ü–ì–£–†–ê–¶–Ü–Ø TELEGRAM ===
        const BOT_TOKEN = "8301414454:AAGRbesK_sv51BoCilemIn0q14AEOryNoHY";
        const ADMIN_CHAT_ID = "2106920885"; 
        const CLIENT_CHAT_ID = "@Vitalik_3331"; // –£ —Ä–µ–∞–ª—å–Ω–æ–º—É –∑–∞—Å—Ç–æ—Å—É–≤–∞–Ω–Ω—ñ ID –∫–ª—ñ—î–Ω—Ç–∞ –ø–æ—Ç—Ä—ñ–±–Ω–æ –æ—Ç—Ä–∏–º—É–≤–∞—Ç–∏ –≤—ñ–¥ –Ω—å–æ–≥–æ

        // === –§—É–Ω–∫—Ü—ñ—è –¥–ª—è –Ω–∞–¥—Å–∏–ª–∞–Ω–Ω—è –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –≤ Telegram (–∑ –ø–æ–ø–µ—Ä–µ–¥–Ω—å–æ–≥–æ –∫–æ–¥—É) ===
        function sendTelegramMessage(chatId, text) {
            const url = `https://api.telegram.org/bot${BOT_TOKEN}/sendMessage`;
            return fetch(url, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                    chat_id: chatId,
                    text: text,
                    parse_mode: 'HTML'
                })
            });
        }
        // =========================================================================

        // ======================================
        // === JS –õ–æ–≥—ñ–∫–∞ –ö–≤—ñ–∑—É —Ç–∞ –¶—ñ–Ω–æ—É—Ç–≤–æ—Ä–µ–Ω–Ω—è ===
        // ======================================

        const BASE_PRICE_PER_TICKET = 15; 
        let currentPrice = BASE_PRICE_PER_TICKET;
        let currentStep = 1;
        const totalSteps = 4; 
        let isMovingForward = true; // –î–ª—è –∫–æ–Ω—Ç—Ä–æ–ª—é –∞–Ω—ñ–º–∞—Ü—ñ—ó

        const selectedOptions = {
            quantity: { value: 1, price: 0 }, 
            day: { value: null, price: 0 },
            time: { value: null, price: 0 },
            customTime: { value: '', price: 0 }, 
            options: { values: [], price: 0 }, // –ú–Ω–æ–∂–∏–Ω–Ω–∏–π –≤–∏–±—ñ—Ä: –ó–ë–ï–†–Ü–ì–ê–Ñ–ú–û –ú–ê–°–ò–í –ó–ù–ê–ß–ï–ù–¨ –¢–ê –ó–ê–ì–ê–õ–¨–ù–£ –¶–Ü–ù–£
            modes: { values: [], price: 0 }    // –ú–Ω–æ–∂–∏–Ω–Ω–∏–π –≤–∏–±—ñ—Ä: –ó–ë–ï–†–Ü–ì–ê–Ñ–ú–û –ú–ê–°–ò–í –ó–ù–ê–ß–ï–ù–¨ –¢–ê –ó–ê–ì–ê–õ–¨–ù–£ –¶–Ü–ù–£
        };

        // --- –§—É–Ω–∫—Ü—ñ—ó –æ–Ω–æ–≤–ª–µ–Ω–Ω—è —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É —Ç–∞ –Ω–∞–≤—ñ–≥–∞—Ü—ñ—ó ---

        function updatePrice() {
            let pricePerTicket = BASE_PRICE_PER_TICKET;
            
            // –î–æ–¥–∞—î–º–æ –≤–∞—Ä—Ç—ñ—Å—Ç—å –¥–æ–¥–∞—Ç–∫–æ–≤–∏—Ö –æ–ø—Ü—ñ–π –¥–æ —Ü—ñ–Ω–∏ –æ–¥–Ω–æ–≥–æ –∫—É–ø–æ–Ω—É
            pricePerTicket += selectedOptions.time.price; 
            
            // –î–æ–¥–∞—î–º–æ –∑–∞–≥–∞–ª—å–Ω—É —Ü—ñ–Ω—É –¥–ª—è –º–Ω–æ–∂–∏–Ω–Ω–∏—Ö –æ–ø—Ü—ñ–π
            pricePerTicket += selectedOptions.options.price; 
            pricePerTicket += selectedOptions.modes.price;

            const ticketQuantity = selectedOptions.quantity.value;
            currentPrice = pricePerTicket * ticketQuantity;


            const displayMessage = `–¢–µ–ø–µ—Ä –¥–æ –æ–ø–ª–∞—Ç–∏: ${currentPrice} –≥—Ä–Ω`;
            
            // –û–Ω–æ–≤–ª–µ–Ω–Ω—è –≤—Å—ñ—Ö –¥–∏—Å–ø–ª–µ—ó–≤, –∫—Ä—ñ–º —Ñ—ñ–Ω–∞–ª—å–Ω–æ–≥–æ
            if (document.getElementById('price-display')) document.getElementById('price-display').textContent = displayMessage;
            if (document.getElementById('price-display-2')) document.getElementById('price-display-2').textContent = displayMessage;
            if (document.getElementById('price-display-3')) document.getElementById('price-display-3').textContent = displayMessage;
            if (document.getElementById('price-display-4')) document.getElementById('price-display-4').textContent = displayMessage;
            
            if (document.getElementById('final-price-display')) {
                document.getElementById('final-price-display').textContent = `–ó–∞–≥–∞–ª—å–Ω–∞ —Å—É–º–∞: ${currentPrice} –≥—Ä–Ω`;
            }
        }
        
        // **–ù–û–í–ê/–û–ù–û–í–õ–ï–ù–ê –§–£–ù–ö–¶–Ü–Ø: –û–±—Ä–æ–±–∫–∞ –∑–º—ñ–Ω —á–µ–∫–±–æ–∫—Å—ñ–≤**
        function handleCheckboxChange(checkbox, categoryName, isExclusive = false) {
            const parentDiv = checkbox.closest('.checkbox-option');
            const value = parentDiv.getAttribute('data-value');
            const price = parseFloat(parentDiv.getAttribute('data-price') || 0);

            if (isExclusive) {
                // –Ø–∫—â–æ –æ–±—Ä–∞–Ω–æ "–ù—ñ—á–æ–≥–æ –∑ –ø–µ—Ä–µ–ª—ñ—á–µ–Ω–æ–≥–æ"
                const optionGroup = parentDiv.closest('.option-group');
                const allCheckboxes = optionGroup.querySelectorAll('input[type="checkbox"]');
                const allOptions = optionGroup.querySelectorAll('.checkbox-option');

                if (checkbox.checked) {
                    // –ó–Ω—ñ–º–∞—î–º–æ –≤–∏–±—ñ—Ä –∑ —É—Å—ñ—Ö —ñ–Ω—à–∏—Ö
                    selectedOptions[categoryName].values = [];
                    selectedOptions[categoryName].price = 0;
                    
                    allCheckboxes.forEach(cb => {
                        if (cb !== checkbox) {
                            cb.checked = false;
                        }
                    });
                    allOptions.forEach(opt => opt.classList.remove('selected'));
                    
                    // –î–æ–¥–∞—î–º–æ –ª–∏—à–µ –µ–∫—Å–∫–ª—é–∑–∏–≤–Ω—É –æ–ø—Ü—ñ—é
                    selectedOptions[categoryName].values.push(value);
                    parentDiv.classList.add('selected');
                } else {
                    // –Ø–∫—â–æ –∑–Ω—è–ª–∏ –≤–∏–±—ñ—Ä –∑ –µ–∫—Å–∫–ª—é–∑–∏–≤–Ω–æ—ó, –ø—Ä–æ—Å—Ç–æ –æ—á–∏—â–∞—î–º–æ
                    selectedOptions[categoryName].values = [];
                    parentDiv.classList.remove('selected');
                }
            } else {
                // –ó–≤–∏—á–∞–π–Ω–∏–π –º–Ω–æ–∂–∏–Ω–Ω–∏–π –≤–∏–±—ñ—Ä
                const exclusiveCheckbox = parentDiv.parentNode.querySelector('[data-value="–ù—ñ—á–æ–≥–æ –∑ –ø–µ—Ä–µ–ª—ñ—á–µ–Ω–æ–≥–æ"] input[type="checkbox"]');
                const exclusiveOption = exclusiveCheckbox ? exclusiveCheckbox.closest('.checkbox-option') : null;

                if (checkbox.checked) {
                    parentDiv.classList.add('selected');
                    // –î–æ–¥–∞—î–º–æ –∑–Ω–∞—á–µ–Ω–Ω—è
                    if (!selectedOptions[categoryName].values.includes(value)) {
                        selectedOptions[categoryName].values.push(value);
                    }
                    // –Ø–∫—â–æ –æ–±—Ä–∞–ª–∏ —â–æ—Å—å —ñ–Ω—à–µ, –∑–Ω—ñ–º–∞—î–º–æ "–ù—ñ—á–æ–≥–æ –∑ –ø–µ—Ä–µ–ª—ñ—á–µ–Ω–æ–≥–æ"
                    if (exclusiveCheckbox && exclusiveCheckbox.checked) {
                        exclusiveCheckbox.checked = false;
                        if (exclusiveOption) exclusiveOption.classList.remove('selected');
                        selectedOptions[categoryName].values = selectedOptions[categoryName].values.filter(v => v !== '–ù—ñ—á–æ–≥–æ –∑ –ø–µ—Ä–µ–ª—ñ—á–µ–Ω–æ–≥–æ');
                    }
                } else {
                    parentDiv.classList.remove('selected');
                    // –í–∏–¥–∞–ª—è—î–º–æ –∑–Ω–∞—á–µ–Ω–Ω—è
                    selectedOptions[categoryName].values = selectedOptions[categoryName].values.filter(v => v !== value);
                }
            }

            // –ü–ï–†–ï–†–ê–•–û–í–£–Ñ–ú–û –ó–ê–ì–ê–õ–¨–ù–£ –¶–Ü–ù–£ –ö–ê–¢–ï–ì–û–†–Ü–á
            let newPrice = 0;
            const currentStepElement = document.getElementById(`step-${currentStep}`);
            if (currentStepElement) {
                // –ü—Ä–æ—Ö–æ–¥–∏–º–æ –ø–æ –æ–±—Ä–∞–Ω–∏—Ö –µ–ª–µ–º–µ–Ω—Ç–∞—Ö —Ç–∞ –¥–æ–¥–∞—î–º–æ —ó—Ö–Ω—ñ —Ü—ñ–Ω–∏
                selectedOptions[categoryName].values.forEach(val => {
                    const selectedButton = currentStepElement.querySelector(`.checkbox-option[data-value="${val}"]`);
                    if (selectedButton) {
                        newPrice += parseFloat(selectedButton.getAttribute('data-price') || 0);
                    }
                });
            }

            selectedOptions[categoryName].price = newPrice;
            
            // –û–ù–û–í–õ–ï–ù–ù–Ø –¶–Ü–ù–ò –í –†–ï–ê–õ–¨–ù–û–ú–£ –ß–ê–°–Ü
            updatePrice();
            
            // –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è –∫—Ä–æ–∫—É
            checkStepCompletion(currentStep);
        }

        function updateProgress() {
            if (currentStep <= totalSteps) {
                document.getElementById('progress-indicator').textContent = `${currentStep} –∑ ${totalSteps} –∑—Ä–æ–±–ª–µ–Ω–æ`;
            } else if (currentStep === 5) {
                document.getElementById('progress-indicator').textContent = `–ü—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è`;
            } else {
                document.getElementById('progress-indicator').textContent = `–ó–∞–º–æ–≤–ª–µ–Ω–Ω—è —É—Å–ø—ñ—à–Ω–æ –æ—Ñ–æ—Ä–º–ª–µ–Ω–æ!`;
            }
            
            checkStepCompletion(currentStep);
        }
        
        function validateCustomTime(timeString) {
            if (!timeString) return false;
            const timeRegex = /^([01]?[0-9]|2[0-3]):[0-5][0-9]$/; 
            if (!timeRegex.test(timeString)) return false;
            
            const [hours, minutes] = timeString.split(':').map(Number);
            if (hours >= 0 && hours <= 23 && minutes >= 0 && minutes <= 59) {
                return true;
            }
            return false;
        }

        function checkStepCompletion(step) {
            let isComplete = false;
            const nextButton = document.querySelector(`#step-${step} .next-button`);

            switch(step) {
                case 1:
                    isComplete = selectedOptions.quantity.value !== null;
                    break;
                case 2:
                    isComplete = selectedOptions.day.value !== null && selectedOptions.time.value !== null;
                    
                    if (isComplete && selectedOptions.time.value === '–ú—ñ–π —á–∞—Å') {
                        const customTimeInputEl = document.getElementById('custom-time-input');
                        selectedOptions.customTime.value = customTimeInputEl.value.trim();
                        isComplete = validateCustomTime(selectedOptions.customTime.value); 
                        
                        document.getElementById('time-validation-error').style.display = isComplete ? 'none' : 'block';
                    } else {
                        document.getElementById('time-validation-error').style.display = 'none';
                    }
                    break;
                case 3:
                    // –ö—Ä–æ–∫ 3 –∑–∞–≤–µ—Ä—à–µ–Ω–∏–π, —è–∫—â–æ –æ–±—Ä–∞–Ω–∞ —Ö–æ—á–∞ –± –æ–¥–Ω–∞ –æ–ø—Ü—ñ—è
                    isComplete = selectedOptions.options.values.length > 0;
                    break;
                case 4:
                    // –ö—Ä–æ–∫ 4 –∑–∞–≤–µ—Ä—à–µ–Ω–∏–π, —è–∫—â–æ –æ–±—Ä–∞–Ω–∏–π —Ö–æ—á–∞ –± –æ–¥–∏–Ω —Ä–µ–∂–∏–º
                    isComplete = selectedOptions.modes.values.length > 0;
                    break;
            }

            if (nextButton) {
                nextButton.disabled = !isComplete;
            }
        }
        
        function checkStep2Completion() {
            // –ü—Ä–∏ –∑–º—ñ–Ω—ñ —á–∞—Å—É –æ–Ω–æ–≤–ª—é—î–º–æ –ø–µ—Ä–µ–≤—ñ—Ä–∫—É
            checkStepCompletion(2);
        }

        function goBackStep(step) {
            isMovingForward = false;
            nextStep(step);
        }


        function nextStep(step) {
            const currentEl = document.getElementById(`step-${currentStep}`);
            const nextEl = document.getElementById(`step-${step}`);
            const animationClass = isMovingForward ? 'hidden-right' : 'hidden-left';
            const reverseAnimationClass = isMovingForward ? 'hidden-left' : 'hidden-right';
            
            if (currentEl) {
                currentEl.classList.add(animationClass);
                currentEl.classList.remove('current', reverseAnimationClass);
                // –ü—Ä–∏—Ö–æ–≤—É—î–º–æ –¥–ª—è —É–Ω–∏–∫–Ω–µ–Ω–Ω—è –Ω–∞–∫–ª–∞–¥–∞–Ω–Ω—è
                setTimeout(() => { currentEl.style.display = 'none'; }, 550); 
            }

            setTimeout(() => {
                if (nextEl) {
                    // –ü–æ–∫–∞–∑—É—î–º–æ –Ω–∞—Å—Ç—É–ø–Ω–∏–π –µ–ª–µ–º–µ–Ω—Ç
                    nextEl.style.display = 'flex'; 
                    
                    // –ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ –Ω–∞–ø—Ä—è–º–æ–∫, —â–æ–± –ø—Ä–∞–≤–∏–ª—å–Ω–æ –≤—ñ–¥–æ–±—Ä–∞–∑–∏—Ç–∏ –µ–ª–µ–º–µ–Ω—Ç –ø–µ—Ä–µ–¥ –∞–Ω—ñ–º–∞—Ü—ñ—î—é
                    if (!isMovingForward) {
                        nextEl.classList.add(reverseAnimationClass);
                    } else {
                        nextEl.classList.add(animationClass);
                    }
                    
                    // –ù–µ–≥–∞–π–Ω–æ –¥–æ–¥–∞—î–º–æ .current —ñ –≤–∏–¥–∞–ª—è—î–º–æ –∫–ª–∞—Å, —â–æ–± –∑–∞–ø—É—Å—Ç–∏—Ç–∏ –∞–Ω—ñ–º–∞—Ü—ñ—é
                    nextEl.classList.add('current');
                    nextEl.classList.remove(animationClass, reverseAnimationClass); 
                }
                
                currentStep = step;
                updateProgress();
                updatePrice(); 
                
                if (step === 6) {
                    updateClientApprovalMessage();
                }
                isMovingForward = true; // –°–∫–∏–¥–∞—î–º–æ –Ω–∞–ø—Ä—è–º–æ–∫ –Ω–∞ "–≤–ø–µ—Ä–µ–¥" –¥–ª—è –Ω–∞—Å—Ç—É–ø–Ω–æ–≥–æ –∫—Ä–æ–∫—É
            }, 50); 
        }

        // --- –õ–æ–≥—ñ–∫–∞ –≤—ñ–¥–ø—Ä–∞–≤–∫–∏ –¥–∞–Ω–∏—Ö —Ç–∞ –°–•–í–ê–õ–ï–ù–ù–Ø ---

        function formatOptions(options) {
            if (options.length === 0) return '–ù–µ –æ–±—Ä–∞–Ω–æ';
            const filteredOptions = options.filter(o => !o.includes('–ù—ñ—á–æ–≥–æ –∑ –ø–µ—Ä–µ–ª—ñ—á–µ–Ω–æ–≥–æ'));
            
            if (filteredOptions.length === 0 && options.some(o => o.includes('–ù—ñ—á–æ–≥–æ –∑ –ø–µ—Ä–µ–ª—ñ—á–µ–Ω–æ–≥–æ'))) {
                return '–ù—ñ—á–æ–≥–æ –∑ –ø–µ—Ä–µ–ª—ñ—á–µ–Ω–æ–≥–æ';
            }
            return filteredOptions.join(', ');
        }

        function getClientApprovalMessage(isApproved, orderDetails) {
            const time = orderDetails.timeOption === '–ë—É–¥—å-—è–∫–∏–π —á–∞—Å'
                ? "–±—É–¥–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–æ –∑–∞–≤—á–∞—Å–Ω–æ"
                : `${orderDetails.customTime}`;
                
            let clientMessage;
            
            if (isApproved) {
                const dayFormatted = orderDetails.day.toLowerCase().replace(' ', ' ');
                clientMessage = `
–Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ –æ–ø–ª–∞—Ç—É —Ç–∞ –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –∫—É–ø–æ–Ω—ñ–≤ –±—É–¥–µ –Ω–∞–¥—ñ—Å–ª–∞–Ω–∞ –≤–∞–º —É Telegram!
`;
            } else {
                clientMessage = `
–í–∞—à–µ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è –∫—É–ø–æ–Ω—ñ–≤ –±—É–ª–æ –≤—ñ–¥–º–æ–≤–ª–µ–Ω–æ! 
–°–ø—Ä–æ–±—É–π—Ç–µ —â–µ —Ä–∞–∑ –ø—ñ–∑–Ω—ñ—à–µ!
`;
            }
            return clientMessage.trim();
        }

        function updateClientApprovalMessage() {
            const isApproved = true; 
            
            const orderDetails = {
                quantity: selectedOptions.quantity.value,
                day: selectedOptions.day.value,
                timeOption: selectedOptions.time.value,
                customTime: selectedOptions.customTime.value,
                totalPrice: currentPrice
            };
            
            const message = getClientApprovalMessage(isApproved, orderDetails);
            
            document.getElementById('final-client-message').innerHTML = message.replace(/\n/g, '<br>');
            document.getElementById('summary-price-display').textContent = `${orderDetails.totalPrice} –≥—Ä–Ω`;
        }
        
        function sendToTelegramBot() {
            // 1. –ó–±–∏—Ä–∞—î–º–æ —Ñ—ñ–Ω–∞–ª—å–Ω—ñ –¥–∞–Ω—ñ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è
            const orderDetails = {
                quantity: selectedOptions.quantity.value,
                day: selectedOptions.day.value,
                timeOption: selectedOptions.time.value,
                customTime: selectedOptions.customTime.value,
                options: formatOptions(selectedOptions.options.values),
                modes: formatOptions(selectedOptions.modes.values),
                totalPrice: currentPrice
            };
            
            // 2. –§–æ—Ä–º—É—î–º–æ Telegram-–ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –¥–ª—è –ê–î–ú–Ü–ù–ê
            const adminMessage = `
–ù–û–í–ï –ó–ê–ú–û–í–õ–ï–ù–ù–Ø (–°–ê–ô–¢) 
–ö—ñ–ª—å–∫—ñ—Å—Ç—å: ${orderDetails.quantity} —à—Ç.
–î–µ–Ω—å: ${orderDetails.day}
–ì–æ–¥–∏–Ω–∞: ${orderDetails.timeOption === '–ë—É–¥—å-—è–∫–∏–π —á–∞—Å' ? '–ë—É–¥—å-—è–∫–∏–π' : orderDetails.customTime}
–û–ø—Ü—ñ—ó: ${orderDetails.options}
–†–µ–∂–∏–º: ${orderDetails.modes}
–°–£–ú–ê: ${orderDetails.totalPrice} –≥—Ä–Ω
–ù—ñ–∫–Ω–µ–π–º –∫–ª—ñ—î–Ω—Ç–∞: ${CLIENT_CHAT_ID} 
`;

            // 3. –í—ñ–¥–ø—Ä–∞–≤–∫–∞ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ê–î–ú–Ü–ù–£
            sendTelegramMessage(ADMIN_CHAT_ID, adminMessage)
                .then(response => {
                    if (response.ok) {
                        console.log("–ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è —É—Å–ø—ñ—à–Ω–æ –≤—ñ–¥–ø—Ä–∞–≤–ª–µ–Ω–æ –∞–¥–º—ñ–Ω—É.");
                        nextStep(6); // –ü–µ—Ä–µ—Ö–æ–¥–∏–º–æ –Ω–∞ —Ñ—ñ–Ω–∞–ª—å–Ω–∏–π –∫—Ä–æ–∫
                    } else {
                        alert("–ü–æ–º–∏–ª–∫–∞ –≤—ñ–¥–ø—Ä–∞–≤–∫–∏ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è. –°–ø—Ä–æ–±—É–π—Ç–µ —â–µ —Ä–∞–∑.");
                        console.error('Telegram API error:', response.statusText);
                    }
                })
                .catch(error => {
                    alert("–ü–æ–º–∏–ª–∫–∞ –∑–≤'—è–∑–∫—É –∑ —Å–µ—Ä–≤–µ—Ä–æ–º.");
                    console.error('Network error:', error);
                });
        }

        // --- –û–±—Ä–æ–±–Ω–∏–∫–∏ –ö–ª—ñ–∫—ñ–≤ ---

        // –û–±—Ä–æ–±–∫–∞ –∫–Ω–æ–ø–æ–∫ –æ–¥–∏–Ω–æ—á–Ω–æ–≥–æ –≤–∏–±–æ—Ä—É
        document.querySelectorAll('.option-group[data-type="single"] .option-button').forEach(button => {
            button.addEventListener('click', function() {
                const group = this.closest('.option-group');
                const name = group.getAttribute('data-name');
                const value = this.getAttribute('data-value');
                const price = parseFloat(this.getAttribute('data-price') || 0);

                group.querySelectorAll('.option-button').forEach(btn => btn.classList.remove('selected'));
                this.classList.add('selected');

                if (name === 'quantity') {
                    selectedOptions[name].value = parseInt(this.getAttribute('data-quantity'));
                } else {
                    selectedOptions[name].value = value;
                    selectedOptions[name].price = price;
                }

                if (name === 'time') {
                    const timeInputContainer = document.getElementById('time-input-container');
                    if (value === '–ú—ñ–π —á–∞—Å') {
                        timeInputContainer.style.display = 'block';
                        document.getElementById('time-validation-error').style.display = 'none'; 
                    } else {
                        timeInputContainer.style.display = 'none';
                        selectedOptions.customTime.value = ''; 
                    }
                }
                
                updatePrice();
                checkStepCompletion(currentStep);
            });
        });
        
        // **–ù–û–í–ò–ô –ö–û–î: –û–±—Ä–æ–±–∫–∞ –∫–ª—ñ–∫—ñ–≤ –Ω–∞ div.checkbox-option (–¥–ª—è –≤–∏–±–æ—Ä—É)**
        document.querySelectorAll('.checkbox-option').forEach(div => {
            div.addEventListener('click', function(event) {
                // –ó–∞–ø–æ–±—ñ–≥–∞—î–º–æ –ø–æ–¥—ñ—ó, —è–∫—â–æ –∫–ª—ñ–∫ –±—É–≤ —Å–∞–º–µ –Ω–∞ —á–µ–∫–±–æ–∫—Å—ñ (–±–æ –≤—ñ–Ω –º–∞—î —Å–≤—ñ–π onchange)
                if (event.target.tagName.toLowerCase() === 'input') return;

                const checkbox = this.querySelector('input[type="checkbox"]');
                if (checkbox) {
                    checkbox.checked = !checkbox.checked; // –ó–º—ñ–Ω—é—î–º–æ —Å—Ç–∞–Ω
                    // –í–∏–∫–ª–∏–∫–∞—î–º–æ —Ñ—É–Ω–∫—Ü—ñ—é –æ–±—Ä–æ–±–∫–∏ –∑–º—ñ–Ω –¥–ª—è –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –ª–æ–≥—ñ–∫–∏ —Ç–∞ —Ü—ñ–Ω–∏
                    // –ó—á–∏—Ç—É—î–º–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏, —â–æ–± –∑–Ω–∞–π—Ç–∏ isExclusive
                    const categoryName = this.closest('.option-group').getAttribute('data-name');
                    const isExclusive = this.getAttribute('data-value') === '–ù—ñ—á–æ–≥–æ –∑ –ø–µ—Ä–µ–ª—ñ—á–µ–Ω–æ–≥–æ';
                    handleCheckboxChange(checkbox, categoryName, isExclusive);
                }
            });
        });


        // –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è
        document.addEventListener('DOMContentLoaded', () => {
            // –í—Å—Ç–∞–Ω–æ–≤–ª—é—î–º–æ –∑–Ω–∞—á–µ–Ω–Ω—è –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º –¥–ª—è –ø–µ—Ä—à–æ–≥–æ –∫—Ä–æ–∫—É (1 –∫—É–ø–æ–Ω)
            const defaultQuantityButton = document.querySelector('#step-1 .option-button[data-quantity="1"]');
            if (defaultQuantityButton) {
                defaultQuantityButton.classList.add('selected');
                selectedOptions.quantity.value = 1;
            }
            
            updateProgress();
            updatePrice();
        });
    </script>
</body>
</html>
