<!DOCTYPE html>
<html lang="uk">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<title>–ó–∞–º–æ–≤–ª–µ–Ω–Ω—è –∫—É–ø–æ–Ω—É</title>
<style>
  body{margin:0;font-family:Inter, sans-serif;background:#0d1320;color:#fff;padding:0}
  .container{padding:20px}
  .card{background:#fff;border-radius:16px;padding:20px;color:#000;box-shadow:0 6px 20px rgba(0,0,0,0.35);animation:fadeIn .35s ease}
  @keyframes fadeIn{0%{opacity:0;transform:translateY(12px)}100%{opacity:1;transform:translateY(0)}}
  h2{margin:0 0 14px;font-size:20px;font-weight:700}
  .progress{color:#9aa6b2;font-size:14px;margin-bottom:10px}
  .btn-grid{display:grid;gap:10px;margin-top:10px}
  .btn{padding:14px;border-radius:12px;border:none;font-size:16px;font-weight:600;background:#0ea5e9;color:#fff;cursor:pointer;transition:.2s}
  .btn:active{transform:scale(.95)}
  .btn-alt{background:#e2e8f0;color:#000}
  .note{font-size:12px;color:#6b7280;margin-bottom:8px;margin-top:-2px}
  .input-box{margin-top:12px}
  input{width:100%;padding:12px;border-radius:10px;border:1px solid #94a3b8;font-size:16px}
  .checkbox{display:flex;align-items:center;gap:10px;margin:6px 0;font-size:16px}
  .sum{margin-top:20px;font-size:18px;font-weight:700;text-align:center}
</style>
</head>
<body>
<div class="container">

  <div id="step1" class="card">
    <h2>–ö—ñ–ª—å–∫—ñ—Å—Ç—å –∫—É–ø–æ–Ω—ñ–≤</h2>
    <div class="btn-grid">
      <button class="btn" onclick="chooseCoupons(1)">1</button>
      <button class="btn" onclick="chooseCoupons(2)">2</button>
      <button class="btn" onclick="chooseCoupons(3)">3</button>
      <button class="btn" onclick="chooseCoupons(4)">4</button>
      <button class="btn" onclick="chooseCoupons(5)">5</button>
    </div>
  </div>

  <div id="step2" class="card" style="display:none">
    <div class="progress">1 –∑ 4</div>
    <h2>–ù–∞ —è–∫–∏–π –¥–µ–Ω—å?</h2>
    <div class="btn-grid">
      <button class="btn" onclick="chooseDay('–°—å–æ–≥–æ–¥–Ω—ñ')">–°—å–æ–≥–æ–¥–Ω—ñ</button>
      <button class="btn" onclick="chooseDay('–ó–∞–≤—Ç—Ä–∞')">–ó–∞–≤—Ç—Ä–∞</button>
      <button class="btn" onclick="chooseDay('–ü—ñ—Å–ª—è –∑–∞–≤—Ç—Ä–∞')">–ü—ñ—Å–ª—è –∑–∞–≤—Ç—Ä–∞</button>
    </div>
  </div>

  <div id="step2b" class="card" style="display:none">
    <div class="progress">1 –∑ 4</div>
    <h2>–ù–∞ –∫–æ—Ç—Ä—É –≥–æ–¥–∏–Ω—É?</h2>
    <div class="note">–£ –±—É–¥—å —è–∫–∏–π —á–∞—Å ‚Äî +0 –≥—Ä–Ω</div>
    <button class="btn" onclick="chooseTimeType('any')">–£ –±—É–¥—å —è–∫–∏–π —á–∞—Å</button>
    <div class="note" style="margin-top:14px">–£ –º—ñ–π —á–∞—Å ‚Äî +3 –≥—Ä–Ω</div>
    <button class="btn" onclick="chooseTimeType('custom')">–£ –º—ñ–π —á–∞—Å</button>
    <div id="customTimeBox" class="input-box" style="display:none">
      <div class="note">–í–≤–µ–¥—ñ—Ç—å –≤–∞—à —á–∞—Å (–ø—Ä–∏–∫–ª–∞–¥: 12:00)</div>
      <input type="text" id="customTimeInput" placeholder="12:00">
    </div>
    <button class="btn" style="margin-top:16px;background:#16a34a" onclick="finishStep2()">–î–∞–ª—ñ</button>
  </div>

  <div id="step3" class="card" style="display:none">
    <div class="progress">2 –∑ 4</div>
    <h2>–î–æ–¥–∞—Ç–∫–æ–≤—ñ –æ–ø—Ü—ñ—ó</h2>
    <div id="liveSum3" class="sum" style="margin-top:0;margin-bottom:10px;color:#0ea5e9">–°—É–º–∞: 15 –≥—Ä–Ω</div>
    <label class="checkbox"><input type="checkbox" value="5" onchange="updateOptions(this);updateLiveSum()"> –ù–æ—Ä–º–∞–ª—å–Ω–µ —Å—Ç–∞–≤–ª–µ–Ω–Ω—è <span class="note">+5 –≥—Ä–Ω</span></label>
    <label class="checkbox"><input type="checkbox" value="3" onchange="updateOptions(this);updateLiveSum()"> –°—Ç–∞—Ä–∞–Ω–Ω—è –±–∏—Ç–∏/–ø–∞—Å—É–≤–∞—Ç–∏ <span class="note">+3 –≥—Ä–Ω</span></label>
    <label class="checkbox"><input type="checkbox" value="2" onchange="updateOptions(this);updateLiveSum()"> –ë—É—Ç—Å–∏ <span class="note">+2 –≥—Ä–Ω</span></label>
    <label class="checkbox"><input type="checkbox" value="0" onchange="updateOptions(this);updateLiveSum()"> –ù—ñ—á–æ–≥–æ –∑ –ø–µ—Ä–µ–ª—ñ—á–µ–Ω–æ–≥–æ <span class="note">+0 –≥—Ä–Ω</span></label>
    <button class="btn" style="margin-top:16px;background:#16a34a" onclick="goStep4()">–î–∞–ª—ñ</button>
  </div>

  <div id="step4" class="card" style="display:none">
    <div class="progress">3 –∑ 4</div>
    <h2>–†–µ–∂–∏–º–∏ –≥—Ä–∏</h2>
    <label class="checkbox"><input type="radio" name="mode" value="5"> –§—É—Ç–±–æ–ª <span class="note">+5 –≥—Ä–Ω</span></label>
    <label class="checkbox"><input type="radio" name="mode" value="2"> –ö–∞—Å–∞–Ω–∫–∞ (1 —Ç–æ—Ä–∫–∞–Ω–Ω—è) <span class="note">+2 –≥—Ä–Ω</span></label>
    <label class="checkbox"><input type="radio" name="mode" value="3"> –í—ñ–¥ –≤–æ—Ä—ñ—Ç, –¥–æ –≤–æ—Ä—ñ—Ç <span class="note">+3 –≥—Ä–Ω</span></label>
    <label class="checkbox"><input type="radio" name="mode" value="0"> –ù—ñ—á–æ–≥–æ –∑ –ø–µ—Ä–µ–ª—ñ—á–µ–Ω–æ–≥–æ <span class="note">+0 –≥—Ä–Ω</span></label>
    <button class="btn" style="margin-top:16px;background:#16a34a" onclick="finishAll()">–ì–æ—Ç–æ–≤–æ</button>
  </div>

  <div id="final" class="card" style="display:none;text-align:center">
    <h2 id="finalSum">–°—É–º–∞: 0 –≥—Ä–Ω</h2>
    <div class="btn-grid" style="margin-top:15px">
      <button class="btn" style="background:#16a34a" onclick="sendToAdmin()">–í—ñ–¥–ø—Ä–∞–≤–∏—Ç–∏ –∞–¥–º—ñ–Ω—É</button>
      <button class="btn btn-alt" onclick="restartOrder()">–ó–º—ñ–Ω–∏—Ç–∏</button>
    </div>
  </div>

</div>

<script>
let base = 15, total = 15, selectedOptions = 0, selectedCoupons = 0;
let selectedDay='', selectedTime='', selectedTimeType='', selectedOptionsArr=[], selectedModeTxt='', selectedModeValue=0;
const ADMIN_ID = "2106920885", USER_ID = "2106920885"; // –¥–ª—è —Ç–µ—Å—Ç—É

function show(id){document.querySelectorAll('.card').forEach(c=>c.style.display='none');document.getElementById(id).style.display='block';updateAllLiveSums();}
function chooseCoupons(n){selectedCoupons=n;show('step2');}
function chooseDay(d){selectedDay=d;show('step2b');}
function chooseTimeType(type){selectedTimeType=type;if(type==='any'){total=base;document.getElementById('customTimeBox').style.display='none';selectedTime='–±—É–¥—å-—è–∫–∏–π';}else{total=base+3;document.getElementById('customTimeBox').style.display='block';}updateAllLiveSums();}
function finishStep2(){if(selectedTimeType==='custom'){selectedTime=document.getElementById('customTimeInput').value||'–Ω–µ –≤–∫–∞–∑–∞–Ω–æ';}show('step3');}
function updateOptions(ch){if(ch.checked){selectedOptions+=Number(ch.value);selectedOptionsArr.push(ch.parentElement.textContent.trim());}else{selectedOptions-=Number(ch.value);selectedOptionsArr=selectedOptionsArr.filter(x=>x!==ch.parentElement.textContent.trim());}updateAllLiveSums();}
function goStep4(){show('step4');}
function finishAll(){let modeInput=document.querySelector('input[name="mode"]:checked');selectedModeValue=modeInput?Number(modeInput.value):0;selectedModeTxt=modeInput?modeInput.parentElement.textContent.trim():'–ù—ñ—á–æ–≥–æ';let final=total+selectedOptions+selectedModeValue;document.getElementById('finalSum').innerText=`–°—É–º–∞: ${final} –≥—Ä–Ω`;localStorage.setItem('lastOrder',JSON.stringify({coupons:selectedCoupons,day:selectedDay,time:selectedTime,timeType:selectedTimeType,options:selectedOptionsArr,modeTxt:selectedModeTxt,sum:final}));show('final');}
function restartOrder(){location.reload();}
function updateAllLiveSums(){let s3=document.getElementById('liveSum3');let live=total+selectedOptions+0;if(s3)s3.innerText=`–°—É–º–∞: ${live} –≥—Ä–Ω`;}

// –ù–∞–¥—Å–∏–ª–∞–Ω–Ω—è –∞–¥–º—ñ–Ω—É –∑ –∫–Ω–æ–ø–∫–∞–º–∏
function sendToAdmin(){
  let order=JSON.parse(localStorage.getItem('lastOrder')||'{}');
  fetch(`https://api.telegram.org/bot8301414454:AAGRbesK_sv51BoCilemIn0q14AEOryNoHY/sendMessage`,{
    method:'POST',
    headers:{'Content-Type':'application/json'},
    body:JSON.stringify({chat_id:ADMIN_ID,text:`–ù–æ–≤–∞ –∑–∞—è–≤–∫–∞:
–ö—ñ–ª—å–∫—ñ—Å—Ç—å –∫—É–ø–æ–Ω—ñ–≤: ${order.coupons}
–î–µ–Ω—å: ${order.day}
–ì–æ–¥–∏–Ω–∞: ${order.time}
–û–ø—Ü—ñ—ó: ${order.options.join(', ')}
–†–µ–∂–∏–º: ${order.modeTxt}
–°—É–º–∞: ${order.sum} –≥—Ä–Ω`,
      reply_markup:JSON.stringify({inline_keyboard:[[{text:"–°—Ö–≤–∞–ª–∏—Ç–∏ üëç",callback_data:"approve"},{text:"–í—ñ–¥–º–æ–≤–∏—Ç–∏ üö´",callback_data:"decline"}]]})})
  });
  alert("–ó–∞—è–≤–∫–∞ –Ω–∞–¥—ñ—Å–ª–∞–Ω–∞ –Ω–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∫—É!");window.location.href="index.html";
}
</script>

</body>
</html>
